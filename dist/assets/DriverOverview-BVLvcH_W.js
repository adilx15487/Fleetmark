import{c as v,y as w,r as y,Y as l,j as e,k as o,M as n,Z as i,U as k,B as $,_ as d,$ as C,L as S,E as D,H as I,a0 as T}from"./index-BsUAqUE7.js";import{u as _,S as c,c as x,E as L}from"./ErrorState--eOmfzyR.js";import{C as E}from"./circle-check-IKNPMbOc.js";/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],R=v("power",P),m={new_passenger:{color:"text-sky-500",bg:"bg-sky-50"},cancellation:{color:"text-orange-500",bg:"bg-orange-50"},route_change:{color:"text-amber-500",bg:"bg-amber-50"},schedule_update:{color:"text-violet-500",bg:"bg-violet-50"},maintenance:{color:"text-red-500",bg:"bg-red-50"}},U=()=>{const r=new Date().getHours();return r<12?"Good morning":r<17?"Good afternoon":"Good evening"},O=()=>{const{user:r}=w(),{isLoading:h,isError:g,retry:b}=_(),[a,p]=y.useState(l.status==="on-duty"),u=T.slice(0,3),j=[{...i.assignedRoute,icon:n,color:"text-primary-600",bg:"bg-primary-50"},{...i.passengersToday,icon:k,color:"text-accent-500",bg:"bg-sky-50"},{...i.nextDeparture,icon:o,color:"text-emerald-500",bg:"bg-emerald-50"},{...i.busInfo,icon:$,color:"text-violet-500",bg:"bg-violet-50"}],f={Completed:{text:"text-slate-500",bg:"bg-slate-50",border:"border-slate-200",icon:E},"In Progress":{text:"text-emerald-600",bg:"bg-emerald-50",border:"border-emerald-200",icon:C},Upcoming:{text:"text-sky-600",bg:"bg-sky-50",border:"border-sky-200",icon:o}};return h?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 p-8",children:e.jsx(c,{})}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:Array.from({length:4},(s,t)=>e.jsx(c,{},t))}),e.jsxs("div",{className:"grid lg:grid-cols-5 gap-6",children:[e.jsx(x,{className:"lg:col-span-3",items:5}),e.jsx(x,{className:"lg:col-span-2",items:3})]})]}):g?e.jsx(L,{onRetry:b}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:`rounded-2xl p-6 sm:p-8 relative overflow-hidden transition-colors duration-300 ${a?"bg-gradient-to-br from-emerald-600 via-emerald-700 to-emerald-800":"bg-gradient-to-br from-slate-500 via-slate-600 to-slate-700"}`,children:[e.jsx("div",{className:"absolute top-0 right-0 w-72 h-72 bg-white/5 rounded-full -translate-y-1/3 translate-x-1/3"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-white/5 rounded-full translate-y-1/2 -translate-x-1/4"}),e.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:[U(),", ",(r==null?void 0:r.name.split(" ")[0])||"Driver"," ðŸ‘‹"]}),e.jsx("p",{className:"text-white/70 mt-1 text-sm sm:text-base",children:a?"You're on duty. Drive safe!":"You're currently off duty."}),a&&e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-4 text-sm text-white/80",children:[e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(o,{className:"w-3.5 h-3.5"}),l.startTime," â€” ",l.endTime]}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(n,{className:"w-3.5 h-3.5"}),l.routeName]})]})]}),e.jsxs("button",{onClick:()=>p(!a),className:`inline-flex items-center gap-3 px-6 py-3 rounded-2xl text-sm font-bold transition-all active:scale-[0.97] shadow-lg shrink-0 ${a?"bg-white text-emerald-700 hover:bg-white/90 shadow-emerald-800/30":"bg-white text-slate-600 hover:bg-white/90 shadow-slate-700/30"}`,children:[e.jsx(R,{className:"w-5 h-5"}),a?"ON DUTY":"OFF DUTY",e.jsx("span",{className:`w-3 h-3 rounded-full ${a?"bg-emerald-400 animate-pulse":"bg-slate-400"}`})]})]})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:j.map(s=>{const t=s.icon;return e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-5 hover:shadow-lg hover:shadow-primary-100/30 transition-shadow",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl ${s.bg} flex items-center justify-center mb-3`,children:e.jsx(t,{className:`w-5 h-5 ${s.color}`})}),e.jsx("p",{className:"text-2xl font-bold text-primary-900",children:s.value}),"subtext"in s&&s.subtext&&e.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:s.subtext}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:s.label})]},s.label)})}),e.jsxs("div",{className:"grid lg:grid-cols-5 gap-6",children:[e.jsxs("div",{className:"lg:col-span-3 bg-white rounded-2xl border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-slate-100",children:[e.jsx("h3",{className:"text-sm font-bold text-primary-900",children:"Today's Schedule"}),e.jsxs("span",{className:"text-xs text-slate-400",children:[d.length," trips"]})]}),e.jsx("div",{className:"divide-y divide-slate-100",children:d.map(s=>{const t=f[s.status],N=t.icon;return e.jsxs("div",{className:`flex items-center gap-4 px-5 py-4 transition-colors ${s.status==="In Progress"?"bg-emerald-50/40":"hover:bg-slate-50/50"}`,children:[e.jsx("div",{className:"flex flex-col items-center shrink-0",children:e.jsx("div",{className:`w-3 h-3 rounded-full border-2 ${s.status==="Completed"?"bg-slate-300 border-slate-300":s.status==="In Progress"?"bg-emerald-500 border-emerald-500 animate-pulse":"bg-white border-sky-400"}`})}),e.jsx("div",{className:"w-20 shrink-0",children:e.jsx("p",{className:`text-sm font-bold ${s.status==="Completed"?"text-slate-400":"text-primary-900"}`,children:s.departureTime})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`text-sm font-medium ${s.status==="Completed"?"text-slate-400":"text-primary-800"}`,children:s.route}),e.jsxs("p",{className:"text-xs text-slate-400",children:[s.stops," stops Â· ",s.passengers," passengers"]})]}),e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-semibold border ${t.bg} ${t.text} ${t.border} shrink-0`,children:[e.jsx(N,{className:`w-3 h-3 ${s.status==="In Progress"?"animate-spin":""}`}),e.jsx("span",{className:"hidden sm:inline",children:s.status})]})]},s.id)})})]}),e.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-slate-100",children:[e.jsx("h3",{className:"text-sm font-bold text-primary-900",children:"Recent Notifications"}),e.jsxs(S,{to:"/driver/notifications",className:"text-xs font-semibold text-accent-500 hover:text-accent-600 transition-colors inline-flex items-center gap-1",children:["View All ",e.jsx(D,{className:"w-3 h-3"})]})]}),e.jsx("div",{className:"divide-y divide-slate-100",children:u.map(s=>{const t=m[s.type]||m.new_passenger;return e.jsxs("div",{className:"flex items-start gap-3 px-5 py-4 hover:bg-slate-50/50 transition-colors",children:[e.jsx("div",{className:`w-9 h-9 rounded-xl ${t.bg} flex items-center justify-center shrink-0 mt-0.5`,children:e.jsx(I,{className:`w-4 h-4 ${t.color}`})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-sm font-semibold text-primary-900 truncate",children:s.title}),!s.read&&e.jsx("span",{className:"w-2 h-2 rounded-full bg-accent-500 shrink-0"})]}),e.jsx("p",{className:"text-xs text-slate-400 mt-0.5 line-clamp-1",children:s.message}),e.jsx("p",{className:"text-[11px] text-slate-300 mt-1",children:s.time})]})]},s.id)})})]})]})]})};export{O as default};
