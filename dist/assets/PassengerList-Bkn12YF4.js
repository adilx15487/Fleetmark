import{r as i,a3 as r,j as e,U as d,g}from"./index-BsUAqUE7.js";import{u as b,d as j,E as w}from"./ErrorState--eOmfzyR.js";import{E as N}from"./EmptyState-DSXG582P.js";import{D as y}from"./download-CQTVdi6C.js";const v={Confirmed:"bg-emerald-50 text-emerald-600 border-emerald-200",Pending:"bg-amber-50 text-amber-600 border-amber-200",Cancelled:"bg-red-50 text-red-500 border-red-200"},P=()=>{const{isLoading:c,isError:m,retry:x}=b(),[a,h]=i.useState("All"),[l,p]=i.useState(""),n=i.useMemo(()=>{let s=r;if(a!=="All"&&(s=s.filter(t=>t.status===a)),l.trim()){const t=l.toLowerCase();s=s.filter(o=>o.name.toLowerCase().includes(t)||o.seat.toLowerCase().includes(t)||o.stop.toLowerCase().includes(t))}return s},[a,l]),u=["All","Confirmed","Pending","Cancelled"],f=i.useMemo(()=>({All:r.length,Confirmed:r.filter(s=>s.status==="Confirmed").length,Pending:r.filter(s=>s.status==="Pending").length,Cancelled:r.filter(s=>s.status==="Cancelled").length}),[]);return c?e.jsx(j,{count:6,cols:"sm:grid-cols-2 lg:grid-cols-3"}):m?e.jsx(w,{onRetry:x}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-50 flex items-center justify-center",children:e.jsx(d,{className:"w-5 h-5 text-primary-600"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-bold text-primary-900",children:[n.length," Passengers"]}),e.jsx("p",{className:"text-xs text-slate-400",children:"Route A — Campus Express"})]})]}),e.jsxs("button",{className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-xl bg-white border border-slate-200 text-sm font-medium text-slate-600 hover:border-primary-300 hover:text-primary-600 transition-all",children:[e.jsx(y,{className:"w-4 h-4"}),"Export List"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:u.map(s=>e.jsxs("button",{onClick:()=>h(s),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all ${a===s?"bg-primary-600 text-white shadow-md shadow-primary-600/20":"bg-white border border-slate-200 text-slate-600 hover:border-primary-300"}`,children:[s,e.jsx("span",{className:"ml-1.5 text-[11px] opacity-70",children:f[s]})]},s))}),e.jsxs("div",{className:"flex items-center bg-white border border-slate-200 rounded-xl px-3 py-2 w-full sm:w-64 focus-within:ring-2 focus-within:ring-primary-500/20 focus-within:border-primary-400 transition-all",children:[e.jsx(g,{className:"w-4 h-4 text-slate-400 mr-2 shrink-0"}),e.jsx("input",{type:"text",placeholder:"Search name, seat, stop…",value:l,onChange:s=>p(s.target.value),className:"bg-transparent text-sm text-slate-700 placeholder:text-slate-400 outline-none w-full"})]})]}),n.length===0?e.jsx(N,{icon:e.jsx(d,{className:"w-8 h-8 text-slate-300"}),title:"No passengers reserved for this trip yet",subtitle:"Passengers will appear here once they reserve seats."}):e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(s=>e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-5 hover:shadow-lg hover:shadow-primary-100/30 transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[s.avatar?e.jsx("img",{src:s.avatar,alt:s.name,className:"w-11 h-11 rounded-full bg-slate-100 shrink-0"}):e.jsx("div",{className:"w-11 h-11 rounded-full bg-primary-100 flex items-center justify-center shrink-0",children:e.jsx("span",{className:"text-sm font-bold text-primary-600",children:s.initials})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-bold text-primary-900 truncate",children:s.name}),e.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:s.stop})]}),e.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[11px] font-semibold border shrink-0 ${v[s.status]}`,children:s.status})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t border-slate-100 text-xs text-slate-500",children:[e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"w-5 h-5 rounded bg-slate-100 flex items-center justify-center text-[10px] font-bold text-slate-500",children:s.seat}),"Seat"]}),e.jsx("span",{className:"text-slate-300",children:"·"}),e.jsx("span",{className:"truncate",children:s.stop})]})]},s.id))})]})};export{P as default};
