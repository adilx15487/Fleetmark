import{r as n,Q as b,j as e,i as f,k as v,C as u,o as N,U as w,B as y,L as S,H as C}from"./index-RZfUFfFO.js";import{u as k,c as L,E}from"./ErrorState-5r3AbioU.js";import{C as A}from"./chevron-up-DhEbK1FX.js";const U=()=>{const{isLoading:x,isError:m,retry:o}=k(),[l,p]=n.useState(""),[r,h]=n.useState("All"),[g,j]=n.useState(null),c=n.useMemo(()=>b.filter(s=>{const a=s.name.toLowerCase().includes(l.toLowerCase())||s.stops.some(i=>i.toLowerCase().includes(l.toLowerCase())),t=r==="All"||s.organization===r;return a&&t}),[l,r]);return x?e.jsx(L,{items:5}):m?e.jsx(E,{onRetry:o}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(f,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Search routes or stops…",value:l,onChange:s=>p(s.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-slate-200 text-sm focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 outline-none transition-all placeholder:text-slate-300 bg-white"})]}),e.jsx("div",{className:"flex items-center gap-2",children:["All","University","Enterprise","School"].map(s=>e.jsx("button",{onClick:()=>h(s),className:`px-4 py-2.5 rounded-xl text-sm font-medium transition-all whitespace-nowrap ${r===s?"bg-primary-600 text-white shadow-md shadow-primary-600/20":"bg-white border border-slate-200 text-slate-600 hover:border-primary-300"}`,children:s},s))})]}),e.jsxs("div",{className:"space-y-4",children:[c.map(s=>{const a=g===s.id,t=Math.round(s.availableSeats/s.totalSeats*100);return e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 overflow-hidden hover:shadow-lg hover:shadow-primary-100/30 transition-all",children:[e.jsxs("button",{onClick:()=>j(a?null:s.id),className:"w-full flex items-center justify-between px-5 py-4 text-left",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-500/10 flex items-center justify-center shrink-0",children:e.jsx(v,{className:"w-5 h-5 text-primary-600"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-sm font-bold text-primary-900",children:s.name}),e.jsx("span",{className:`px-2 py-0.5 rounded-md text-[10px] font-bold uppercase tracking-wider ${s.status==="Active"?"bg-emerald-50 text-emerald-600":"bg-slate-100 text-slate-400"}`,children:s.status})]}),e.jsxs("p",{className:"text-xs text-slate-400 mt-0.5",children:[s.stops.length," stops · ",s.assignedBus," · ",s.organization]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[e.jsx("div",{className:"w-20 h-2 rounded-full bg-slate-100 overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full ${t>50?"bg-emerald-400":t>20?"bg-amber-400":"bg-red-400"}`,style:{width:`${t}%`}})}),e.jsxs("span",{className:"text-xs font-semibold text-slate-500",children:[s.availableSeats," seats"]})]}),a?e.jsx(A,{className:"w-4 h-4 text-slate-400"}):e.jsx(u,{className:"w-4 h-4 text-slate-400"})]})]}),a&&e.jsxs("div",{className:"px-5 pb-5 border-t border-slate-100 pt-4",children:[e.jsx("div",{className:"flex items-center gap-2 flex-wrap mb-5",children:s.stops.map((i,d)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${d===0?"bg-primary-500":d===s.stops.length-1?"bg-emerald-500":"bg-accent-400"} shadow-sm`}),e.jsx("span",{className:"text-sm font-medium text-primary-900",children:i})]}),d<s.stops.length-1&&e.jsx("div",{className:"w-6 h-px bg-slate-300"})]},i))}),e.jsxs("div",{className:"grid sm:grid-cols-3 gap-4 mb-5",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-slate-50",children:[e.jsx(N,{className:"w-4 h-4 text-primary-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-400",children:"Departure Times"}),e.jsx("p",{className:"text-sm font-semibold text-primary-900",children:s.departureTimes.join(", ")})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-slate-50",children:[e.jsx(w,{className:"w-4 h-4 text-emerald-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-400",children:"Available Seats"}),e.jsxs("p",{className:"text-sm font-semibold text-primary-900",children:[s.availableSeats," / ",s.totalSeats]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-slate-50",children:[e.jsx(y,{className:"w-4 h-4 text-accent-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-400",children:"Bus Assigned"}),e.jsx("p",{className:"text-sm font-semibold text-primary-900",children:s.assignedBus})]})]})]}),s.status==="Active"&&e.jsxs(S,{to:"/passenger/reserve",className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-xl bg-primary-600 text-white text-sm font-semibold hover:bg-primary-700 shadow-lg shadow-primary-600/20 transition-all active:scale-[0.98]",children:[e.jsx(C,{className:"w-4 h-4"}),"Reserve a Seat"]})]})]},s.id)}),c.length===0&&e.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 p-12 text-center text-sm text-slate-400",children:"No routes found matching your search."})]})]})};export{U as default};
